@model PFG.Inventory.Web.ViewModels.BasicSettingCapacityListViewModels

@{
    Layout = null;
    UserModel userModel = ViewBag.UserModel;
}
<table class="table table-striped table-bordered table-hover">
    <thead>
        <tr>
            <th style="width:17%;">產品批號(前兩碼)</th>
            <th style="width:17%;">棧板數</th>
            <th>動作</th>
            
        </tr>
    </thead>
    <tbody>
        @if (Model.GridList != null && Model.GridList.Count > 0)
        {
            foreach (var item in Model.GridList)
            {
                <text>
                    <tr>
                        <td>@item.ProductCode</td>
                        <td>@item.CapacityProduct</td>
                        
                        <td>
                            <div class="action-buttons">
                                @if (userModel.Operation.HasFlag(EnumOperation.Edit))
                                {
                                    <a class="btn-edit green" href="@Url.Action("Edit", new { @productCode = item.ProductCode })">
                                        <i class="ace-icon fa fa-pencil bigger-130"></i>
                                    </a>
                                   
                                }
                                &nbsp;
                                @if (userModel.Operation.HasFlag(EnumOperation.Delete))
                                {
                                    <a class="btn-delete red" href="@Url.Action("Delete", new { @productCode = item.ProductCode })">
                                        <i class="ace-icon fa fa-trash-o bigger-130"></i>
                                    </a>
                                }
                            </div>
                        </td>
                    </tr>
                </text>
            }
        }
        else
        {
            <tr>
                <td colspan="4">
                    查無資料
                </td>
            </tr>
        }
    </tbody>
</table>
<!-- hidden criteria -->
@Html.Partial("_Criteria", Model)
@Html.PagedListPager(Model.GridList, pageNo => Url.Action("Index", new
{
    pageNo,
    Model.Parameters.PageSize,
}), SiteLibrary.GetDefaultPagerOptions(true))
<script>
    $(function () {
        $(".btn-delete").click(function (e) {
            commonjs.deleteHandler.call(this);
            e.preventDefault();
        });
        $(".btn-edit").click(function (e) {
            var link = $(this);
            var url = link.attr("href");
            commonjs.loadAndShowDialog(link, url, 500);
            e.preventDefault();
        });
    });
</script>
